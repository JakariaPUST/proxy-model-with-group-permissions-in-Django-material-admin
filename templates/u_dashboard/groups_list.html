{% extends 'u_dashboard/dashboard.html' %}
{% block dashboard %}
{% load crispy_forms_tags %}
Your Groups
<button type="button" class=" mt-2 btn btn-primary" data-toggle="modal" data-target="#exampleModal">
  Create Group
</button>
{% for item in groups %}
<div class="my-2">
    <a class="btn btn-secondary mr-3">{{item.name}}</a>
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal{{item.id}}">
  Add User
</button>
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter{{item.id}}">
  Create User
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter{{item.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle{{item.id}}" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle{{item.id}}">Create User and Add TO This Group</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    <form method="POST" action="{% url 'u_dashboard:create_user' id=item.id %}" enctype="multipart/form-data">
        <div class="modal-body">
            {% csrf_token %}
            {{ form|crispy }}
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Create And ADD</button>
        </div>
    </form>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="exampleModal{{item.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle{{item.id}}" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle{{item.id}}">Add User To This Group</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    <form method="POST" action="{% url 'u_dashboard:add_user' id=item.id %}" enctype="multipart/form-data">
        <div class="modal-body">
            {% csrf_token %}
          <div class="form-group">
            <label for="username">Username</label>
            <input name="username" type="text" class="form-control">
          </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Create And ADD</button>
        </div>
    </form>
    </div>
  </div>
</div>
</div>

{% endfor %}


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Create Group</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    <form method="POST" action="{% url 'create_group' id=id %}" enctype="multipart/form-data">
        <div class="modal-body">
            {% csrf_token %}
          <div class="form-group">
            <label for="name">Name</label>
            <input name="name" type="text" class="form-control">
          </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Create Group</button>
        </div>
    </form>
    </div>
  </div>
</div>


{% endblock dashboard %}